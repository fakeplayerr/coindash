[gd_scene load_steps=2 format=3 uid="uid://31k1sbyad6a0"]

[sub_resource type="GDScript" id="GDScript_mx4aa"]
script/source = "extends GPUParticles2D

var min_speed: float = 50.0
var max_speed: float = 200.0
var base_emission_rate: float = 20.0

func _ready():
	# Start emitting
	emitting = true

func update_trail(speed: float):
	# Adjust emission rate based on speed
	var speed_factor = (speed - min_speed) / (max_speed - min_speed)
	amount = int(base_emission_rate * speed_factor)
	
	# Adjust particle size based on speed
	var scale_factor = 1.0 + speed_factor * 0.5
	scale = Vector2(scale_factor, scale_factor) "

[node name="PlayerTrail" type="GPUParticles2D"]
amount = 20
lifetime = 0.5
randomness = 0.2
fixed_fps = 0
interpolate = false
script = SubResource("GDScript_mx4aa")

[node name="ParticleMaterial" type="ParticleProcessMaterial" parent="."]
_import_path = NodePath("")
unique_name_in_owner = false
process_mode = 0
process_priority = 0
process_physics_priority = 0
process_thread_group = 0
physics_interpolation_mode = 0
auto_translate_mode = 0
editor_description = ""
particle_flag_disable_z = true
spread = 0.0
gravity = Vector3(0, 0, 0)
initial_velocity_min = 0.0
initial_velocity_max = 0.0
orbit_velocity_min = 0.0
orbit_velocity_max = 0.0
scale_min = 1.0
scale_max = 2.0
color = Color(0.2, 0.8, 1, 0.5)
script = null
